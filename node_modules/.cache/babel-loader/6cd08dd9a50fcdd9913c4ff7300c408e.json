{"ast":null,"code":"import * as Types from './../constants/ActionType';\nvar initialState = [];\n\nvar findIndex = (products, id) => {\n  var result = -1;\n  products.forEach((product, index) => {\n    if (product.id === id) {\n      result = index;\n    }\n  });\n  return result;\n};\n\nconst products = (state = initialState, action) => {\n  var index = -1;\n  var id = action.id,\n      product = action.product;\n\n  switch (action.type) {\n    case Types.FETCH_PRODUCTS:\n      state = action.products;\n      return [...state];\n\n    case Types.DELETE_PRODUCT:\n      index = findIndex(state, id);\n      console.log(id);\n      console.log(state);\n      state.splice(index, 1);\n      return [...state];\n\n    case Types.ADD_PRODUCT:\n      state.push(action.product);\n      return [...state];\n\n    case Types.UPDATE_PRODUCT:\n      index = findIndex(state, product.id);\n      state[index] = product;\n      return [...state];\n\n    default:\n      return [...state];\n  }\n};\n\nexport default products;","map":{"version":3,"sources":["E:\\HTML\\Web\\React\\call-api\\src\\reducers\\products.js"],"names":["Types","initialState","findIndex","products","id","result","forEach","product","index","state","action","type","FETCH_PRODUCTS","DELETE_PRODUCT","console","log","splice","ADD_PRODUCT","push","UPDATE_PRODUCT"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,2BAAvB;AACA,IAAIC,YAAY,GAAG,EAAnB;;AAEA,IAAIC,SAAS,GAAG,CAACC,QAAD,EAAUC,EAAV,KAAe;AAC3B,MAAIC,MAAM,GAAG,CAAC,CAAd;AACIF,EAAAA,QAAQ,CAACG,OAAT,CAAiB,CAACC,OAAD,EAASC,KAAT,KAAmB;AAChC,QAAGD,OAAO,CAACH,EAAR,KAAeA,EAAlB,EAAqB;AACjBC,MAAAA,MAAM,GAAGG,KAAT;AACH;AACJ,GAJD;AAKJ,SAAOH,MAAP;AACH,CARD;;AASA,MAAMF,QAAQ,GAAG,CAACM,KAAK,GAAGR,YAAT,EAAsBS,MAAtB,KAAgC;AAC7C,MAAIF,KAAK,GAAG,CAAC,CAAb;AAD6C,MAExCJ,EAFwC,GAE1BM,MAF0B,CAExCN,EAFwC;AAAA,MAErCG,OAFqC,GAE1BG,MAF0B,CAErCH,OAFqC;;AAG7C,UAAOG,MAAM,CAACC,IAAd;AACI,SAAKX,KAAK,CAACY,cAAX;AACIH,MAAAA,KAAK,GAAGC,MAAM,CAACP,QAAf;AACA,aAAO,CAAC,GAAGM,KAAJ,CAAP;;AACJ,SAAKT,KAAK,CAACa,cAAX;AACIL,MAAAA,KAAK,GAAGN,SAAS,CAACO,KAAD,EAAOL,EAAP,CAAjB;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAYX,EAAZ;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACAA,MAAAA,KAAK,CAACO,MAAN,CAAaR,KAAb,EAAmB,CAAnB;AAEA,aAAO,CAAC,GAAGC,KAAJ,CAAP;;AACJ,SAAKT,KAAK,CAACiB,WAAX;AACIR,MAAAA,KAAK,CAACS,IAAN,CAAWR,MAAM,CAACH,OAAlB;AACA,aAAO,CAAC,GAAGE,KAAJ,CAAP;;AACJ,SAAKT,KAAK,CAACmB,cAAX;AACIX,MAAAA,KAAK,GAAGN,SAAS,CAACO,KAAD,EAAOF,OAAO,CAACH,EAAf,CAAjB;AACAK,MAAAA,KAAK,CAACD,KAAD,CAAL,GAAeD,OAAf;AACA,aAAO,CAAC,GAAGE,KAAJ,CAAP;;AACJ;AAAS,aAAO,CAAC,GAAGA,KAAJ,CAAP;AAlBb;AAoBH,CAvBD;;AAyBA,eAAeN,QAAf","sourcesContent":["import * as Types from './../constants/ActionType';\r\nvar initialState = [];\r\n\r\nvar findIndex = (products,id)=>{\r\n    var result = -1;\r\n        products.forEach((product,index) => {\r\n            if(product.id === id){\r\n                result = index;\r\n            }\r\n        });\r\n    return result;\r\n}\r\nconst products = (state = initialState,action) =>{\r\n    var index = -1;\r\n    var {id,product} = action;\r\n    switch(action.type){\r\n        case Types.FETCH_PRODUCTS:\r\n            state = action.products;\r\n            return [...state];\r\n        case Types.DELETE_PRODUCT:\r\n            index = findIndex(state,id);\r\n            console.log(id)\r\n            console.log(state)\r\n            state.splice(index,1);\r\n            \r\n            return [...state];\r\n        case Types.ADD_PRODUCT:\r\n            state.push(action.product);\r\n            return [...state];\r\n        case Types.UPDATE_PRODUCT:\r\n            index = findIndex(state,product.id);\r\n            state[index] = product;\r\n            return [...state];\r\n        default: return [...state];\r\n    }\r\n};\r\n\r\nexport default products;"]},"metadata":{},"sourceType":"module"}