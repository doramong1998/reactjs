{"ast":null,"code":"var _jsxFileName = \"E:\\\\HTML\\\\Web\\\\React\\\\call-api\\\\src\\\\pages\\\\ProductActionPage\\\\ProductActionPage.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { actAddProductRequest, actGetProductRequest, actUpdateProductRequest } from '../../actions/index';\n\nclass ProductActionPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = event => {\n      var target = event.target;\n      var name = target.name;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.onSave = event => {\n      event.preventDefault();\n      var history = this.props.history;\n      var _this$state = this.state,\n          txtName = _this$state.txtName,\n          txtPrice = _this$state.txtPrice,\n          chkbStatus = _this$state.chkbStatus,\n          id = _this$state.id;\n      var product = {\n        id: id,\n        name: txtName,\n        price: txtPrice,\n        status: chkbStatus\n      };\n\n      if (id) {\n        //update\n        this.props.onUpdateProduct(product);\n        history.goBack();\n      } else {\n        this.props.onAddProduct(product);\n        history.goBack();\n      }\n    };\n\n    this.state = {\n      txtName: '',\n      txtPrice: '',\n      chkbStatus: '',\n      id: ''\n    };\n  }\n\n  componentDidMount() {\n    var match = this.props.match;\n\n    if (match) {\n      var id = match.params.id;\n      this.props.onEditProduct(id);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps && nextProps.itemEditing) {\n      var itemEditing = nextProps.itemEditing;\n      this.setState({\n        id: itemEditing.id,\n        txtName: itemEditing.name,\n        txtPrice: itemEditing.price,\n        chkbStatus: itemEditing.status\n      });\n    }\n  }\n\n  render() {\n    var _this$state2 = this.state,\n        txtName = _this$state2.txtName,\n        txtPrice = _this$state2.txtPrice,\n        chkbStatus = _this$state2.chkbStatus;\n    return React.createElement(\"div\", {\n      className: \"col-xs-4 col-sm-4 col-md-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"M\\xE3 S\\u1EA3n Ph\\u1EA9m: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"txtId\",\n      value: txtId,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"T\\xEAn S\\u1EA3n Ph\\u1EA9m: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"txtName\",\n      value: txtName,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Gi\\xE1: \"), React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      name: \"txtPrice\",\n      value: txtPrice,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Gi\\xE1: \"), React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      name: \"txtPrice\",\n      value: txtPrice,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Tr\\u1EA1ng Th\\xE1i: \")), React.createElement(\"div\", {\n      className: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"chkbStatus\",\n      checked: chkbStatus,\n      value: chkbStatus,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), \"C\\xF2n H\\xE0ng\")), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary mr-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"L\\u01B0u L\\u1EA1i\"), React.createElement(Link, {\n      to: \"/product-list\",\n      className: \"btn btn-danger \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Tr\\u1EDF l\\u1EA1i\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    itemEditing: state.itemEditing\n  };\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onAddProduct: product => {\n      dispatch(actAddProductRequest(product));\n    },\n    onEditProduct: id => {\n      dispatch(actGetProductRequest(id));\n    },\n    onUpdateProduct: product => {\n      dispatch(actUpdateProductRequest(product));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductActionPage);","map":{"version":3,"sources":["E:\\HTML\\Web\\React\\call-api\\src\\pages\\ProductActionPage\\ProductActionPage.js"],"names":["React","Component","Link","connect","actAddProductRequest","actGetProductRequest","actUpdateProductRequest","ProductActionPage","constructor","props","onChange","event","target","name","value","type","checked","setState","onSave","preventDefault","history","state","txtName","txtPrice","chkbStatus","id","product","price","status","onUpdateProduct","goBack","onAddProduct","componentDidMount","match","params","onEditProduct","componentWillReceiveProps","nextProps","itemEditing","render","txtId","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { actAddProductRequest, actGetProductRequest,actUpdateProductRequest } from '../../actions/index';\r\nclass ProductActionPage extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            txtName: '',\r\n            txtPrice: '',\r\n            chkbStatus: '',\r\n            id: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        var {match} =this.props;\r\n        if(match){\r\n            var id = match.params.id;\r\n            this.props.onEditProduct(id);\r\n\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        if(nextProps && nextProps.itemEditing){\r\n            var {itemEditing} = nextProps;\r\n            this.setState({\r\n                id: itemEditing.id,\r\n                txtName: itemEditing.name,\r\n                txtPrice: itemEditing.price,\r\n                chkbStatus: itemEditing.status\r\n            })\r\n        }\r\n    }\r\n\r\n    onChange = (event) =>{\r\n        var target = event.target;\r\n        var name = target.name;\r\n        var value = target.type === 'checkbox' ? target.checked : target.value;\r\n        this.setState({\r\n            [name]:value\r\n        })\r\n    }\r\n\r\n    onSave = (event) => {\r\n        event.preventDefault();\r\n        var {history} = this.props;\r\n        var {txtName,txtPrice,chkbStatus,id} = this.state;\r\n        var product = {\r\n            id: id,\r\n            name: txtName,\r\n            price: txtPrice,\r\n            status: chkbStatus\r\n        }\r\n        if(id){ //update\r\n            this.props.onUpdateProduct(product);\r\n            history.goBack(); \r\n        }\r\n        else{\r\n            this.props.onAddProduct(product);\r\n            history.goBack();\r\n    }\r\n    }\r\n\r\n    render(){\r\n        var {txtName,txtPrice,chkbStatus} = this.state;\r\n    return (\r\n        <div className=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\">       \r\n            <form onSubmit = {this.onSave}>\r\n            <div className=\"form-group\">\r\n                    <label>Mã Sản Phẩm: </label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"txtId\" value={txtId} onChange = {this.onChange}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Tên Sản Phẩm: </label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"txtName\" value={txtName} onChange = {this.onChange}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Giá: </label>\r\n                    <input type=\"number\" className=\"form-control\" name=\"txtPrice\" value={txtPrice} onChange = {this.onChange}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Giá: </label>\r\n                    <input type=\"number\" className=\"form-control\" name=\"txtPrice\" value={txtPrice} onChange = {this.onChange}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Trạng Thái: </label>\r\n                </div>\r\n                <div className=\"checkbox\">\r\n                    <label>\r\n                        <input type=\"checkbox\" name=\"chkbStatus\" checked={chkbStatus} value={chkbStatus} onChange = {this.onChange} />\r\n                        Còn Hàng\r\n                    </label>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary mr-10\">Lưu Lại</button>\r\n                <Link to=\"/product-list\" className=\"btn btn-danger \">Trở lại</Link>\r\n            </form>\r\n            \r\n        </div>\r\n    )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        itemEditing: state.itemEditing\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = (dispatch,props) =>{\r\n    return {\r\n        onAddProduct : (product) =>{\r\n            dispatch(actAddProductRequest(product));\r\n        },\r\n        onEditProduct: (id) => {\r\n            dispatch(actGetProductRequest(id));\r\n        },\r\n        onUpdateProduct: (product) => {\r\n            dispatch(actUpdateProductRequest(product));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ProductActionPage);\r\n"]},"metadata":{},"sourceType":"module"}